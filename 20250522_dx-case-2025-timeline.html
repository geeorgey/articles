<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>リバネスグループにおけるSaaS導入履歴 | Salesforce Innovation Day 大阪</title>
  <meta name="description" content="リバネスグループのSaaS導入履歴と変遷を紹介するプレゼンテーション">
  <meta name="keywords" content="リバネス, SaaS, Salesforce, DX, デジタルトランスフォーメーション">
  
  <!-- OGP -->
  <meta property="og:title" content="リバネスグループにおけるSaaS導入履歴 | Salesforce Innovation Day 大阪">
  <meta property="og:description" content="リバネスグループのSaaS導入履歴と変遷を紹介するプレゼンテーション">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://geeorgey.github.io/articles/20250522_dx-case-2025-timeline.html">
  <meta property="og:image" content="https://geeorgey.github.io/articles/images/leaveanest_logo.png">
  <meta property="og:site_name" content="リバネスグループにおけるDX実例2025">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="リバネスグループにおけるSaaS導入履歴 | Salesforce Innovation Day 大阪">
  <meta name="twitter:description" content="リバネスグループのSaaS導入履歴と変遷を紹介するプレゼンテーション">
  <meta name="twitter:image" content="https://geeorgey.github.io/articles/images/leaveanest_logo.png">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://geeorgey.github.io/articles/20250522_dx-case-2025-timeline.html">
  
  <!-- CSS -->
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/dx-case-2025.css">
  <link rel="stylesheet" href="styles/timeline.css">
  
  <style>
    :root {
      --font-scale: 150%; /* 文字サイズの基本スケール */
      --salesforce-blue: #0176D3;
      --leaveanest-red: #E60012;
      --dark-text: #333333;
      --light-bg: #F0F8FF;
      --dark-blue: #0B3861;
    }
    
    body {
      font-size: var(--font-scale);
      font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--light-bg);
      color: var(--dark-text);
    }
  </style>
</head>
<body>
  <main class="presentation">
    <section class="slide timeline-slide active" id="timeline">
      <h1>SaaS導入履歴</h1>
      
      <div class="timeline-container">
        <div class="timeline-periods" id="timeline-periods">
          <!-- 期間はJavaScriptで動的に生成 -->
        </div>
        
        <div class="timeline-years" id="timeline-years">
          <!-- 年はJavaScriptで動的に生成 -->
        </div>
        
        <div class="timeline-tools" id="timeline-tools">
          <!-- ツールバーはJavaScriptで動的に生成 -->
        </div>
      </div>
    </section>
  </main>
  
  <!-- ナビゲーションコントロール -->
  <div class="nav-controls">
    <button class="nav-button prev" onclick="prevSlide()">←</button>
    <button class="nav-button next" onclick="nextSlide()">→</button>
  </div>
  
  <!-- ホームボタン -->
  <a href="index.html" class="home-button">↩</a>
  
  <!-- JavaScript -->
  <script>
    // スライド切り替え機能
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    
    function showSlide(index) {
      // URLからページパラメータを取得
      const urlParams = new URLSearchParams(window.location.search);
      const pageParam = urlParams.get('page');
      
      // パラメータがある場合はその値を使用、なければ0を使用
      currentSlide = pageParam ? parseInt(pageParam) - 1 : 0;
      
      // 範囲チェック
      if (currentSlide < 0) currentSlide = 0;
      if (currentSlide >= slides.length) currentSlide = slides.length - 1;
      
      // すべてのスライドを非表示
      slides.forEach(slide => {
        slide.classList.remove('active');
        slide.style.display = 'none';
      });
      
      // 現在のスライドを表示
      slides[currentSlide].classList.add('active');
      slides[currentSlide].style.display = 'flex';
      
      // URLを更新
      const newUrl = window.location.pathname + '?page=' + (currentSlide + 1);
      history.replaceState(null, '', newUrl);
    }
    
    function nextSlide() {
      if (currentSlide < slides.length - 1) {
        currentSlide++;
        showSlide(currentSlide);
      }
    }
    
    function prevSlide() {
      if (currentSlide > 0) {
        currentSlide--;
        showSlide(currentSlide);
      }
    }
    
    // キーボードナビゲーション
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') nextSlide();
      if (e.key === 'ArrowLeft') prevSlide();
    });
    
    // タイムラインデータの読み込みと表示
    async function loadTimelineData() {
      try {
        const response = await fetch('data/timeline-data.json');
        const data = await response.json();
        renderTimeline(data);
      } catch (error) {
        console.error('タイムラインデータの読み込みに失敗しました:', error);
      }
    }
    
    function renderTimeline(data) {
      // 年の範囲を決定
      const startYear = 2013;
      const endYear = 2025;
      const yearCount = endYear - startYear + 1;
      
      // 期間の表示
      const periodsContainer = document.getElementById('timeline-periods');
      periodsContainer.innerHTML = '';
      
      const periodClasses = ['period-it', 'period-data', 'period-ai', 'period-genai'];
      
      data.periods.forEach((period, index) => {
        const width = ((period.end - period.start + 1) / yearCount) * 100;
        const periodElement = document.createElement('div');
        periodElement.className = `timeline-period ${periodClasses[index % periodClasses.length]}`;
        periodElement.style.width = `${width}%`;
        periodElement.textContent = period.name;
        periodElement.title = period.description;
        periodsContainer.appendChild(periodElement);
      });
      
      // 年の表示
      const yearsContainer = document.getElementById('timeline-years');
      yearsContainer.innerHTML = '';
      
      for (let year = startYear; year <= endYear; year++) {
        const yearElement = document.createElement('div');
        yearElement.className = 'timeline-year';
        yearElement.textContent = year + '年';
        yearsContainer.appendChild(yearElement);
      }
      
      // ツールバーの表示
      const toolsContainer = document.getElementById('timeline-tools');
      toolsContainer.innerHTML = '';
      
      // ツールの色を設定
      const toolColors = [
        '#0176D3', // Salesforce Blue
        '#1589EE', // Lighter Blue
        '#0B5CAB', // Darker Blue
        '#E60012', // Leave a Nest Red
        '#FF6666', // Lighter Red
        '#01A9DB', // Cyan
        '#04B4AE', // Teal
        '#088A68', // Green
        '#5FB404', // Lime
        '#AEB404', // Yellow
        '#DF7401', // Orange
        '#8A0886', // Purple
        '#6A0888', // Dark Purple
        '#2E2E2E', // Dark Gray
        '#424242', // Gray
        '#848484'  // Light Gray
      ];
      
      data.tools.forEach((tool, index) => {
        // ツール行の作成
        const toolRow = document.createElement('div');
        toolRow.className = 'timeline-tool-row';
        
        // ツール名の表示
        const toolName = document.createElement('div');
        toolName.className = 'timeline-tool-name';
        toolName.textContent = tool.name;
        toolRow.appendChild(toolName);
        
        // ツールバーコンテナの作成
        const barContainer = document.createElement('div');
        barContainer.className = 'timeline-tool-bar-container';
        
        // ツールバーの作成
        const toolBar = document.createElement('div');
        toolBar.className = 'timeline-tool-bar';
        
        // バーの位置とサイズを計算
        const left = ((tool.start - startYear) / yearCount) * 100;
        const width = ((tool.end - tool.start + 1) / yearCount) * 100;
        
        toolBar.style.left = `${left}%`;
        toolBar.style.width = `${width}%`;
        toolBar.style.backgroundColor = toolColors[index % toolColors.length];
        toolBar.textContent = tool.name;
        
        // ツール説明のポップアップ
        const description = document.createElement('div');
        description.className = 'tool-description';
        description.textContent = tool.description;
        toolBar.appendChild(description);
        
        // ホバーイベントの追加
        toolBar.addEventListener('mouseenter', () => {
          description.style.display = 'block';
        });
        
        toolBar.addEventListener('mouseleave', () => {
          description.style.display = 'none';
        });
        
        barContainer.appendChild(toolBar);
        toolRow.appendChild(barContainer);
        toolsContainer.appendChild(toolRow);
      });
    }
    
    // ページ読み込み時の初期化
    window.addEventListener('DOMContentLoaded', () => {
      // スライドの初期表示
      setTimeout(() => {
        showSlide(currentSlide);
      }, 100);
      
      // タイムラインデータの読み込み
      loadTimelineData();
    });
  </script>
</body>
</html>
